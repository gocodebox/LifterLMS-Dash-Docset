<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en"><head>
	<meta charset="UTF-8"/>
	<link rel="profile" href="https://gmpg.org/xfn/11"/>
	<link rel="dns-prefetch" href="/s.w.org"/>
	<link rel="dns-prefetch" href="/fonts.googleapis.com"/>
	<link rel="dns-prefetch" href="/fonts.gstatic.com"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>

	<link href="/s29765.pcdn.co/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css"/>
	<link href="/fonts.googleapis.com/css?family=Montserrat:300,300i,600,600i" rel="stylesheet" type="text/css"/>

	<link rel="icon" href="https://s26875.pcdn.co/wp-content/uploads/2019/02/lifterlms-icon-square-150x150.png" sizes="32x32"/>
	<link rel="icon" href="https://s26875.pcdn.co/wp-content/uploads/2019/02/lifterlms-icon-square-300x300.png" sizes="192x192"/>
	<link rel="apple-touch-icon-precomposed" href="https://s26875.pcdn.co/wp-content/uploads/2019/02/lifterlms-icon-square-300x300.png"/>
	<meta name="msapplication-TileImage" content="https://s26875.pcdn.co/wp-content/uploads/2019/02/lifterlms-icon-square-300x300.png"/>
	<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
	<title>LLMS_Generator - LifterLMS Developer Hub</title>

<!-- This site is optimized with the Yoast SEO plugin v11.6 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="https://developer.lifterlms.com/reference/classes/llms_generator/"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="LLMS_Generator - LifterLMS Developer Hub"/>
<meta property="og:description" content="LLMS_Generator class."/>
<meta property="og:url" content="https://developer.lifterlms.com/reference/classes/llms_generator/"/>
<meta property="og:site_name" content="LifterLMS Developer Hub"/>
<meta property="article:publisher" content="https://www.facebook.com/lifterlms"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:description" content="LLMS_Generator class."/>
<meta name="twitter:title" content="LLMS_Generator - LifterLMS Developer Hub"/>
<meta name="twitter:site" content="@lifterlms"/>
<meta name="twitter:creator" content="@lifterlms"/>
<script type="application/ld+json" class="yoast-schema-graph yoast-schema-graph--main">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://developer.lifterlms.com/#organization","name":"LifterLMS","url":"https://developer.lifterlms.com/","sameAs":["https://www.facebook.com/lifterlms","https://www.instagram.com/lifterlms/","https://www.youtube.com/user/lifterlms","https://twitter.com/lifterlms"],"logo":{"@type":"ImageObject","@id":"https://developer.lifterlms.com/#logo","url":"https://s29765.pcdn.co/wp-content/uploads/2019/03/lifterlms-logo.png","width":1025,"height":280,"caption":"LifterLMS"},"image":{"@id":"https://developer.lifterlms.com/#logo"}},{"@type":"WebSite","@id":"https://developer.lifterlms.com/#website","url":"https://developer.lifterlms.com/","name":"LifterLMS Developer Hub","publisher":{"@id":"https://developer.lifterlms.com/#organization"},"potentialAction":{"@type":"SearchAction","target":"https://developer.lifterlms.com/?s={search_term_string}","query-input":"required name=search_term_string"}},{"@type":"WebPage","@id":"https://developer.lifterlms.com/reference/classes/llms_generator/#webpage","url":"https://developer.lifterlms.com/reference/classes/llms_generator/","inLanguage":"en-US","name":"LLMS_Generator - LifterLMS Developer Hub","isPartOf":{"@id":"https://developer.lifterlms.com/#website"},"datePublished":"2019-03-13T18:32:27+00:00","dateModified":"2019-06-26T15:14:13+00:00"}]}</script>
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="/s.w.org"/>
<link rel="alternate" type="application/rss+xml" title="LifterLMS Developer Hub &raquo; Feed" href="https://developer.lifterlms.com/feed/"/>
<link rel="alternate" type="application/rss+xml" title="LifterLMS Developer Hub &raquo; Comments Feed" href="https://developer.lifterlms.com/comments/feed/"/>
<link rel="alternate" type="application/rss+xml" title="LifterLMS Developer Hub &raquo; LLMS_Generator Comments Feed" href="https://developer.lifterlms.com/reference/classes/llms_generator/feed/"/>
<!-- This site uses the Google Analytics by MonsterInsights plugin v7.7.1 - Using Analytics tracking - https://www.monsterinsights.com/ -->
<script type="text/javascript" data-cfasync="false">
	var mi_version         = '7.7.1';
	var mi_track_user      = true;
	var mi_no_track_reason = '';
	
	var disableStr = 'ga-disable-UA-40371053-3';

	/* Function to detect opted out users */
	function __gaTrackerIsOptedOut() {
		return document.cookie.indexOf(disableStr + '=true') > -1;
	}

	/* Disable tracking if the opt-out cookie exists. */
	if ( __gaTrackerIsOptedOut() ) {
		window[disableStr] = true;
	}

	/* Opt-out function */
	function __gaTrackerOptout() {
	  document.cookie = disableStr + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/';
	  window[disableStr] = true;
	}
	
	if ( mi_track_user ) {
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

		__gaTracker('create', 'UA-40371053-3', 'auto');
		__gaTracker('set', 'forceSSL', true);
		__gaTracker('require', 'displayfeatures');
		__gaTracker('send','pageview');
	} else {
		console.log( "" );
		(function() {
			/* https://developers.google.com/analytics/devguides/collection/analyticsjs/ */
			var noopfn = function() {
				return null;
			};
			var noopnullfn = function() {
				return null;
			};
			var Tracker = function() {
				return null;
			};
			var p = Tracker.prototype;
			p.get = noopfn;
			p.set = noopfn;
			p.send = noopfn;
			var __gaTracker = function() {
				var len = arguments.length;
				if ( len === 0 ) {
					return;
				}
				var f = arguments[len-1];
				if ( typeof f !== 'object' || f === null || typeof f.hitCallback !== 'function' ) {
					console.log( 'Not running function __gaTracker(' + arguments[0] + " ....) because you are not being tracked. " + mi_no_track_reason );
					return;
				}
				try {
					f.hitCallback();
				} catch (ex) {

				}
			};
			__gaTracker.create = function() {
				return new Tracker();
			};
			__gaTracker.getByName = noopnullfn;
			__gaTracker.getAll = function() {
				return [];
			};
			__gaTracker.remove = noopfn;
			window['__gaTracker'] = __gaTracker;
					})();
		}
</script>
<!-- / Google Analytics by MonsterInsights -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s29765.pcdn.co\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.1"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="wp-block-library-css" href="https://s29765.pcdn.co/wp-includes/css/dist/block-library/style.min.css?ver=5.1.1" type="text/css" media="all"/>
<link rel="stylesheet" id="wporg-handbook-css-css" href="https://s29765.pcdn.co/wp-content/plugins/handbook/stylesheets/callout-boxes.css?ver=20180111" type="text/css" media="all"/>
<link rel="stylesheet" id="main-css" href="https://s29765.pcdn.co/wp-content/themes/wporg-developer/stylesheets/main.css?ver=20190314" type="text/css" media="all"/>
<link rel="stylesheet" id="dashdocs-css" href="https://s29765.pcdn.co/wp-content/themes/wporg-developer/stylesheets/dashdocs.css?ver=20190314" type="text/css" media="all"/>
<link rel="stylesheet" id="awesomplete-css-css" href="https://s29765.pcdn.co/wp-content/themes/wporg-developer/stylesheets/awesomplete.css?ver=20160114" type="text/css" media="all"/>
<link rel="stylesheet" id="autocomplete-css-css" href="https://s29765.pcdn.co/wp-content/themes/wporg-developer/stylesheets/autocomplete.css?ver=20171220" type="text/css" media="all"/>
<link rel="stylesheet" id="syntaxhighlighter-core-css" href="https://s29765.pcdn.co/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b" type="text/css" media="all"/>
<link rel="stylesheet" id="syntaxhighlighter-theme-default-css" href="https://s29765.pcdn.co/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b" type="text/css" media="all"/>
<script type="text/javascript">
/* <![CDATA[ */
var monsterinsights_frontend = {"js_events_tracking":"true","download_extensions":"doc,exe,js,pdf,ppt,tgz,zip,xls","inbound_paths":"[]","home_url":"https:\/\/developer.lifterlms.com","hash_tracking":"false"};
/* ]]> */
</script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/plugins/google-analytics-for-wordpress/assets/js/frontend.js?ver=7.7.1"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-includes/js/jquery/jquery.js?ver=1.12.4"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/plugins/handbook/scripts/handbook.js?ver=20150930"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/chapters.js?ver=20190314"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0.9b"></script>
<link rel="https://api.w.org/" href="https://developer.lifterlms.com/wp-json/"/>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.lifterlms.com/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s29765.pcdn.co/wp-includes/wlwmanifest.xml"/> 
<meta name="generator" content="WordPress 5.1.1"/>
<link rel="shortlink" href="https://developer.lifterlms.com/?p=5102"/>
<link rel="alternate" type="application/json+oembed" href="https://developer.lifterlms.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.lifterlms.com%2Freference%2Fclasses%2Fllms_generator%2F"/>
<link rel="alternate" type="text/xml+oembed" href="https://developer.lifterlms.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.lifterlms.com%2Freference%2Fclasses%2Fllms_generator%2F&amp;format=xml"/>
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		
	<script type="text/javascript">
		jQuery( '<style>.hide-if-js { display: none; }</style>' ).appendTo( 'head' );
		jQuery( function($) {
			$( 'body' ).addClass('js');
		} );
	</script>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>

<body id="wordpress-org" class="wp-parser-class-template-default single single-wp-parser-class postid-5102">

	<div id="header">

		<nav class="network-menu"><ul id="menu-main" class="menu"><li id="menu-item-7906" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7906"><a href="https://lifterlms.com">LifterLMS</a></li>
<li id="menu-item-7909" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7909"><a href="https://lifterlms.com/docs/">Knowledge Base</a></li>
<li id="menu-item-7910" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7910"><a href="https://academy.lifterlms.com/">Academy</a></li>
<li id="menu-item-7911" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7911"><a href="https://blog.lifterlms.com/">Blog</a></li>
<li id="menu-item-7912" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7912"><a href="https://podcast.lifterlms.com/">Podcast</a></li>
<li id="menu-item-7913" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7913"><a href="https://make.lifterlms.com/">Contributors</a></li>
</ul></nav>
		<div class="wrapper">
			<h1>
				<a href="https://lifterlms.com/">
					<span class="screen-reader-text">LifterLMS</span>
					<img class="header-logo" src="https://s27051.pcdn.co/wp-content/uploads/2019/02/lifterlms_logo.png" alt="LifterLMS"/>
				</a>
			</h1>

		</div>

	</div>



<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
		<h1 class="site-title">
			<a href="https://developer.lifterlms.com/reference/" rel="home">Code Reference</a>
		</h1>

		
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle dashicons dashicons-arrow-down-alt2" aria-controls="primary-menu" aria-expanded="false" aria-label="Primary Menu"></button>
			<div id="primary-menu" class="menu-container"><ul id="menu-dev-resources" class="menu"><li id="menu-item-7915" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-7915"><a href="https://developer.lifterlms.com/">Home</a></li>
<li id="menu-item-7914" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7914"><a href="https://developer.lifterlms.com/reference/">Code Reference</a></li>
</ul></div>		</nav>
	</div>
</header><!-- #masthead -->

<div id="page" class="hfeed site devhub-wrap">
	<a href="#main" class="screen-reader-text">Skip to content</a>

								<div id="inner-search">
					<div class="search-section section clear hide-if-js">


	
	<form role="search" method="get" class="searchform searchform-filtered" action="https://developer.lifterlms.com/">
		<label for="search-field" class="screen-reader-text">Search for:</label>
		<input type="text" id="search-field" class="search-field" placeholder="Search &hellip;" value="" name="s"/>
		<button class="button button-primary button-search"><i class="dashicons dashicons-search"></i><span class="screen-reader-text">Search plugins</span></button>
	
		<div class="search-post-type">
			<span>Filter by type:</span>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-function"/> Functions</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-hook"/> Hooks</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-class"/> Classes</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-method"/> Methods</label>
					</div>

	
	</form>

</div><!-- /search-guide -->
					<div id="inner-search-icon-container">
						<div id="inner-search-icon">
							<div class="dashicons dashicons-search"><span class="screen-reader-text">Search</span></div>
						</div>
					</div>
				</div>

				<div id="content" class="site-content">

	<div id="content-area" class="wp-parser-class-template-default single single-wp-parser-class postid-5102 code-reference">

		
		<div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb">
			<span class="trail-browse">Browse:</span> 
			<span class="trail-begin"><a href="https://developer.lifterlms.com" title="LifterLMS Developer Hub" rel="home">Home</a></span> <span class="sep">/</span> 
			<span class="trail-inner"><a href="https://developer.lifterlms.com/reference/" title="Code Reference">Code Reference</a></span> <span class="sep">/</span> 
			<span class="trail-inner"><a href="https://developer.lifterlms.com/reference/classes/">Classes</a></span> <span class="sep">/</span> <a class="dashingAutolink" name="autolink-1195"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/LLMS_Generator"></a><span class="trail-end">LLMS_Generator</span>
		</div>
		<main id="main" class="site-main" role="main">

		
			
<article id="post-5102" class="post-5102 wp-parser-class type-wp-parser-class status-publish hentry wp-parser-source-file-includes_class-llms-generator-php wp-parser-package-lifterlms-classes wp-parser-since-3-3-0 wp-parser-since-3-30-2">

	
	
	<h1>LLMS_Generator</h1>

	<section class="summary">
		<p><a href="https://developer.lifterlms.com/reference/classes/llms_generator/">LLMS_Generator</a> class.</p>
	</section>


	
	<div class="content-toc"><style> .toc-jump { text-align: right; font-size: 12px; } .page .toc-heading { margin-top: -50px; padding-top: 50px !important; }</style><div class="table-of-contents"><h2>Contents</h2><ul class="items"><li><a href="#description">Description</a>
<ul>
<li><a href="#source">Source</a></li>
<li><a href="#changelog">Changelog</a>
</li></ul></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#user-contributed-notes">User Contributed Notes</a></li></ul>
</div>

<hr/>
<section class="description">
	<h2 class="toc-heading" id="description" tabindex="-1">Description <a href="#description" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Description</span></a></h2>
	
	</section>

	<hr/>
	<section class="source-content">
		<h3 class="toc-heading" id="source" tabindex="-1">Source <a href="#source" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Source</span></a></h3>
		<p>
			File: <a href="https://developer.lifterlms.com/reference/files/includes/class-llms-generator.php/">includes/class.llms.generator.php</a>		</p>

					<div class="source-code-container">
				<pre class="brush: php; toolbar: false; first-line: 19">class LLMS_Generator {

	/**
	 * Instance of WP_Error
	 * @var  obj
	 */
	public $error;

	/**
	 * Default post status when status isn&#39;t set in $raw for a given post
	 * @var  string
	 */
	private $default_post_status = &#39;draft&#39;;

	/**
	 * Name of the Generator to use for generation
	 * @var  string
	 */
	private $generator = &#39;&#39;;

	/**
	 * Array of generated posts
	 * @var  array
	 */
	private $posts = array();

	/**
	 * Raw contents passed into the generator&#39;s constructor
	 * @var  array
	 */
	private $raw = array();

	/**
	 * Type of data to work from
	 * bulk|single
	 * @var  string
	 */
	private $raw_type = &#39;&#39;;

	/**
	 * Associate raw tempids with actual created ids
	 * @var  array
	 */
	private $tempids = array(
		&#39;course&#39; =&gt; array(),
		&#39;lesson&#39; =&gt; array(),
	);

	/**
	 * Array of Stats
	 * @var  array
	 */
	private $stats = array(
		&#39;authors&#39; =&gt; 0,
		&#39;courses&#39; =&gt; 0,
		&#39;sections&#39; =&gt; 0,
		&#39;lessons&#39; =&gt; 0,
		&#39;plans&#39; =&gt; 0,
		&#39;quizzes&#39; =&gt; 0,
		&#39;questions&#39; =&gt; 0,
		&#39;terms&#39; =&gt; 0,
	);

	/**
	 * Construct a new generator instance with data
	 * @param    array|string   $raw   array or json string of raw content
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	public function __construct( $raw ) {

		if ( ! is_array( $raw ) ) {

			$raw = json_decode( $raw, true );

		}

		$this-&gt;error = new WP_Error();
		$this-&gt;raw = $raw;

		// for featured image creation via `media_sideload_image()`
		require_once( ABSPATH . &#39;wp-admin/includes/media.php&#39; );
		require_once( ABSPATH . &#39;wp-admin/includes/file.php&#39; );
		require_once( ABSPATH . &#39;wp-admin/includes/image.php&#39; );

	}

	/**
	 * Add taxonomy terms to a course
	 * @param    obj      $course_id   WP Post ID of a Course
	 * @param    array    $raw_terms   array of raw term arrays
	 * @since    3.3.0
	 * @version  3.7.5
	 */
	private function add_course_terms( $course_id, $raw_terms ) {

		$taxes = array(
			&#39;course_cat&#39; =&gt; &#39;categories&#39;,
			&#39;course_difficulty&#39; =&gt; &#39;difficulty&#39;,
			&#39;course_tag&#39; =&gt; &#39;tags&#39;,
			&#39;course_track&#39; =&gt; &#39;tracks&#39;,
		);

		foreach ( $taxes as $tax =&gt; $key ) {

			if ( ! empty( $raw_terms[ $key ] ) &amp;&amp; is_array( $raw_terms[ $key ] ) ) {

				// we can only have one difficulty at a time
				$append = ( &#39;difficulty&#39; === $key ) ? false : true;

				$terms = array();

				// find term id or create it
				foreach ( $raw_terms[ $key ] as $term_name ) {

					if ( empty( $term_name ) ) {
						continue;
					}

					$term_id = $this-&gt;get_term_id( $term_name, $tax );
					if ( $term_id ) {
						$terms[] = $term_id;
					}
				}

				wp_set_post_terms( $course_id, $terms, $tax, $append );

			}
		}

	}

	/**
	 * Add custom data to a post based on the &#39;custom&#39; array
	 *
	 * @since 3.16.11
	 * @since 3.28.3 Add extra slashes around JSON strings.
	 * @since 3.30.2 Skip JSON evaluation for non-string values; make publicly accessible.
	 *
	 * @param int $post_id WP Post ID.
	 * @param array $raw raw data.
	 * @return void
	 */
	public function add_custom_values( $post_id, $raw ) {
		if ( isset( $raw[&#39;custom&#39;] ) ) {
			foreach ( $raw[&#39;custom&#39;] as $custom_key =&gt; $custom_vals ) {
				foreach ( $custom_vals as $val ) {
					// if $val is a JSON string, add slashes before saving.
					if ( is_string( $val ) &amp;&amp; null !== json_decode( $val, true ) ) {
						$val = wp_slash( $val );
					}
					add_post_meta( $post_id, $custom_key, maybe_unserialize( $val ) );
				}
			}
		}
	}

	/**
	 * When called, generates raw content based on the defined generator
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Add before and after generation hooks.
	 *
	 * @return void
	 */
	public function generate() {

		if ( ! empty( $this-&gt;generator ) ) {

			global $wpdb;

			$wpdb-&gt;hide_errors();

			$wpdb-&gt;query( &#39;START TRANSACTION&#39; );

			do_action( &#39;llms_generator_before_generate&#39;, $this );

			try {

				call_user_func( $this-&gt;generator );

			} catch ( Exception $e ) {

				$this-&gt;error-&gt;add( &#39;exception&#39;, $e-&gt;getMessage() );

			}

			do_action( &#39;llms_generator_after_generate&#39;, $this );

			if ( $this-&gt;is_error() ) {
				$wpdb-&gt;query( &#39;ROLLBACK&#39; );
			} else {
				$wpdb-&gt;query( &#39;COMMIT&#39; );
			}
		} else {

			return $this-&gt;error-&gt;add( &#39;missing-generator&#39;, __( &#39;No generator supplied.&#39;, &#39;lifterlms&#39; ) );

		}

	}

	/**
	 * Generator called when cloning a lesson
	 * @return   void
	 * @since    3.14.8
	 * @version  3.14.8
	 */
	private function clone_lesson() {

		$temp = array();

		$this-&gt;raw[&#39;title&#39;] .= sprintf( &#39; (%s)&#39;, __( &#39;Clone&#39;, &#39;lifterlms&#39; ) );

		$this-&gt;create_lesson( $this-&gt;raw, 0, &#39;&#39;, &#39;&#39; );

	}

	/**
	 * Generator called for single course imports
	 * converts the single course into a format that can be handled by the bulk courses generator
	 * and invokes that generator
	 * @return   void
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function generate_course() {

		$temp = array();

		foreach ( array( &#39;_generator&#39;, &#39;_version&#39;, &#39;_source&#39; ) as $meta ) {
			if ( isset( $this-&gt;raw[ $meta ] ) ) {
				$temp[ $meta ] = $this-&gt;raw[ $meta ];
				unset( $this-&gt;raw[ $meta ] );
			}
		}

		$temp[&#39;courses&#39;] = array( $this-&gt;raw );

		$this-&gt;raw = $temp;

		$this-&gt;generate_courses();

	}

	/**
	 * Generator called for bulk course imports
	 * @return   void
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function generate_courses() {

		if ( empty( $this-&gt;raw[&#39;courses&#39;] ) ) {
			$this-&gt;error-&gt;add( &#39;required&#39;, __( &#39;Missing required &#34;courses&#34; array&#39;, &#39;lifterlms&#39; ) );
		} elseif ( ! is_array( $this-&gt;raw[&#39;courses&#39;] ) ) {
			$this-&gt;error-&gt;add( &#39;format&#39;, __( &#39;&#34;courses&#34; must be an array&#39;, &#39;lifterlms&#39; ) );
		} else {

			foreach ( $this-&gt;raw[&#39;courses&#39;] as $raw_course ) {

				unset( $raw_course[&#39;_generator&#39;], $raw_course[&#39;_version&#39;] );

				$this-&gt;create_course( $raw_course );

			}
		}

		$this-&gt;handle_prerequisites();

	}

	/**
	 * Create a new access plan
	 * @param    array     $raw                 Raw Access Plan Data
	 * @param    int       $course_id           WP Post ID of a LLMS Course to assign the access plan to
	 * @param    int       $fallback_author_id  WP User ID to use for the access plan author if no author is supplied in the raw data
	 * @return   int
	 * @since    3.3.0
	 * @version  3.7.3
	 */
	private function create_access_plan( $raw, $course_id, $fallback_author_id = null ) {

		$author_id = $this-&gt;get_author_id_from_raw( $raw, $fallback_author_id );
		if ( isset( $raw[&#39;author&#39;] ) ) {
			unset( $raw[&#39;author&#39;] );
		}

		// insert the plan
		$plan = new LLMS_Access_Plan( &#39;new&#39;, array(
			&#39;post_author&#39; =&gt; $author_id,
			&#39;post_content&#39; =&gt; isset( $raw[&#39;content&#39;] ) ? $raw[&#39;content&#39;] : null,
			&#39;post_date&#39; =&gt; isset( $raw[&#39;date&#39;] ) ? $this-&gt;format_date( $raw[&#39;date&#39;] ) : null,
			&#39;post_modified&#39; =&gt; isset( $raw[&#39;modified&#39;] ) ? $this-&gt;format_date( $raw[&#39;modified&#39;] ) : null,
			&#39;post_status&#39; =&gt; isset( $raw[&#39;status&#39;] ) ? $raw[&#39;status&#39;] : $this-&gt;get_default_post_status(),
			&#39;post_title&#39; =&gt; $raw[&#39;title&#39;],
		) );

		$this-&gt;increment( &#39;plans&#39; );

		unset( $raw[&#39;content&#39;], $raw[&#39;date&#39;], $raw[&#39;modified&#39;], $raw[&#39;name&#39;], $raw[&#39;status&#39;], $raw[&#39;title&#39;] );

		unset( $raw[&#39;product_id&#39;] );
		$plan-&gt;set( &#39;product_id&#39;, $course_id );

		// store the from the import if there is one
		if ( isset( $raw[&#39;id&#39;] ) ) {
			$plan-&gt;set( &#39;generated_from_id&#39;, $raw[&#39;id&#39;] );
			unset( $raw[&#39;id&#39;] );
		}

		foreach ( $raw as $key =&gt; $val ) {
			$plan-&gt;set( $key, $val );
		}

		return $plan-&gt;get( &#39;id&#39; );

	}

	/**
	 * Create a new course
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Added hooks.
	 *
	 * @param    array     $raw  raw course data
	 * @return   void|int
	 */
	private function create_course( $raw ) {

		$raw = apply_filters( &#39;llms_generator_before_new_course&#39;, $raw, $this );

		$author_id = $this-&gt;get_author_id_from_raw( $raw );
		if ( isset( $raw[&#39;author&#39;] ) ) {
			unset( $raw[&#39;author&#39;] );
		}

		// insert the course
		$course = new LLMS_Course( &#39;new&#39;, array(
			&#39;post_author&#39; =&gt; $author_id,
			&#39;post_content&#39; =&gt; isset( $raw[&#39;content&#39;] ) ? $raw[&#39;content&#39;] : null,
			&#39;post_date&#39; =&gt; isset( $raw[&#39;date&#39;] ) ? $this-&gt;format_date( $raw[&#39;date&#39;] ) : null,
			&#39;post_excerpt&#39; =&gt; isset( $raw[&#39;excerpt&#39;] ) ? $raw[&#39;excerpt&#39;] : null,
			&#39;post_modified&#39; =&gt; isset( $raw[&#39;modified&#39;] ) ? $this-&gt;format_date( $raw[&#39;modified&#39;] ) : null,
			&#39;post_status&#39; =&gt; apply_filters( &#39;llms_generator_course_status&#39;, $this-&gt;get_default_post_status(), $raw, $this ),
			&#39;post_title&#39; =&gt; $raw[&#39;title&#39;],
		) );

		if ( ! $course-&gt;get( &#39;id&#39; ) ) {
			return $this-&gt;error-&gt;add( &#39;course_creation&#39;, __( &#39;Error creating course&#39;, &#39;lifterlms&#39; ) );
		}

		$this-&gt;increment( &#39;courses&#39; );
		$this-&gt;record_generation( $course-&gt;get( &#39;id&#39; ), &#39;course&#39; );

		// save the tempid
		$tempid = $this-&gt;store_temp_id( $raw, $course );

		// set all metadata
		foreach ( array_keys( $course-&gt;get_properties() ) as $key ) {
			if ( isset( $raw[ $key ] ) ) {
				$course-&gt;set( $key, $raw[ $key ] );
			}
		}

		// add custom meta
		$this-&gt;add_custom_values( $course-&gt;get( &#39;id&#39; ), $raw );

		// set featured image
		if ( isset( $raw[&#39;featured_image&#39;] ) ) {
			$this-&gt;set_featured_image( $raw[&#39;featured_image&#39;], $course-&gt;get( &#39;id&#39; ) );
		}

		// add terms to our course
		$terms = array();
		if ( isset( $raw[&#39;difficulty&#39;] ) ) {
			$terms[&#39;difficulty&#39;] = array( $raw[&#39;difficulty&#39;] );
		}
		foreach ( array( &#39;categories&#39;, &#39;tags&#39;, &#39;tracks&#39; ) as $t ) {
			if ( isset( $raw[ $t ] ) ) {
				$terms[ $t ] = $raw[ $t ];
			}
		}
		$this-&gt;add_course_terms( $course-&gt;get( &#39;id&#39; ), $terms );

		// create all access plans
		if ( isset( $raw[&#39;access_plans&#39;] ) ) {
			foreach ( $raw[&#39;access_plans&#39;] as $plan ) {
				$this-&gt;create_access_plan( $plan, $course-&gt;get( &#39;id&#39; ), $author_id );
			}
		}

		// create all sections
		if ( isset( $raw[&#39;sections&#39;] ) ) {
			foreach ( $raw[&#39;sections&#39;] as $order =&gt; $section ) {
				$this-&gt;create_section( $section, $order + 1, $course-&gt;get( &#39;id&#39; ), $author_id );
			}
		}

		do_action( &#39;llms_generator_new_course&#39;, $course, $raw, $this );

		return $course-&gt;get( &#39;id&#39; );

	}

	/**
	 * Create a new lesson
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Added hooks.
	 *
	 * @param    array     $raw                 raw lesson data
	 * @param    int       $order               lesson order within the section (starts at 1)
	 * @param    int       $section_id          WP Post ID of the lesson&#39;s parent section
	 * @param    int       $course_id           WP Post ID of the lesson&#39;s parent course
	 * @param    int       $fallback_author_id  optional author ID to use as a fallback if no raw author data supplied for the lesson
	 * @return   mixed                          lesson id or WP_Error
	 */
	private function create_lesson( $raw, $order, $section_id, $course_id, $fallback_author_id = null ) {

		$raw = apply_filters( &#39;llms_generator_before_new_lesson&#39;, $raw, $order, $section_id, $course_id, $fallback_author_id, $this );

		$author_id = $this-&gt;get_author_id_from_raw( $raw, $fallback_author_id );
		if ( isset( $raw[&#39;author&#39;] ) ) {
			unset( $raw[&#39;author&#39;] );
		}

		// insert the course
		$lesson = new LLMS_lesson( &#39;new&#39;, array(
			&#39;post_author&#39; =&gt; $author_id,
			&#39;post_content&#39; =&gt; isset( $raw[&#39;content&#39;] ) ? $raw[&#39;content&#39;] : null,
			&#39;post_date&#39; =&gt; isset( $raw[&#39;date&#39;] ) ? $this-&gt;format_date( $raw[&#39;date&#39;] ) : null,
			&#39;post_excerpt&#39; =&gt; isset( $raw[&#39;excerpt&#39;] ) ? $raw[&#39;excerpt&#39;] : null,
			&#39;post_modified&#39; =&gt; isset( $raw[&#39;modified&#39;] ) ? $this-&gt;format_date( $raw[&#39;modified&#39;] ) : null,
			&#39;post_status&#39; =&gt; isset( $raw[&#39;status&#39;] ) ? $raw[&#39;status&#39;] : $this-&gt;get_default_post_status(),
			&#39;post_title&#39; =&gt; $raw[&#39;title&#39;],
		) );

		if ( ! $lesson-&gt;get( &#39;id&#39; ) ) {
			return $this-&gt;error-&gt;add( &#39;lesson_creation&#39;, __( &#39;Error creating lesson&#39;, &#39;lifterlms&#39; ) );
		}

		$this-&gt;increment( &#39;lessons&#39; );
		$this-&gt;record_generation( $lesson-&gt;get( &#39;id&#39; ), &#39;lesson&#39; );

		// save the tempid
		$tempid = $this-&gt;store_temp_id( $raw, $lesson );

		// set featured image
		if ( isset( $raw[&#39;featured_image&#39;] ) ) {
			$this-&gt;set_featured_image( $raw[&#39;featured_image&#39;], $lesson-&gt;get( &#39;id&#39; ) );
		}

		$lesson-&gt;set( &#39;parent_course&#39;, $course_id );
		$lesson-&gt;set( &#39;parent_section&#39;, $section_id );
		$lesson-&gt;set( &#39;order&#39;, $order );

		// cant trust these if they exist
		if ( isset( $raw[&#39;parent_course&#39;] ) ) {
			unset( $raw[&#39;parent_course&#39;] );
		}
		if ( isset( $raw[&#39;parent_section&#39;] ) ) {
			unset( $raw[&#39;parent_section&#39;] );
		}

		if ( ! empty( $raw[&#39;quiz&#39;] ) ) {
			$raw[&#39;quiz&#39;][&#39;lesson_id&#39;] = $lesson-&gt;get( &#39;id&#39; );
			$raw[&#39;quiz&#39;] = $this-&gt;create_quiz( $raw[&#39;quiz&#39;], $author_id );
		}

		// set all metadata
		foreach ( array_keys( $lesson-&gt;get_properties() ) as $key ) {
			if ( isset( $raw[ $key ] ) ) {
				$lesson-&gt;set( $key, $raw[ $key ] );
			}
		}

		// add custom meta
		$this-&gt;add_custom_values( $lesson-&gt;get( &#39;id&#39; ), $raw );

		do_action( &#39;llms_generator_new_lesson&#39;, $lesson, $raw, $this );

		return $lesson-&gt;get( &#39;id&#39; );

	}

	/**
	 * Creates a new quiz
	 * Creates all questions within the quiz as well
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Added hooks.
	 *
	 * @param    array     $raw                 raw quiz data
	 * @param    int       $fallback_author_id  optional author ID to use as a fallback if no raw author data supplied for the lesson
	 * @return   int                            WP Post ID of the Quiz
	 */
	private function create_quiz( $raw, $fallback_author_id = null ) {

		$raw = apply_filters( &#39;llms_generator_before_new_quiz&#39;, $raw, $fallback_author_id, $this );

		$author_id = $this-&gt;get_author_id_from_raw( $raw, $fallback_author_id );
		if ( isset( $raw[&#39;author&#39;] ) ) {
			unset( $raw[&#39;author&#39;] );
		}

		// insert the course
		$quiz = new LLMS_Quiz( &#39;new&#39;, array(
			&#39;post_author&#39; =&gt; $author_id,
			&#39;post_content&#39; =&gt; isset( $raw[&#39;content&#39;] ) ? $raw[&#39;content&#39;] : null,
			&#39;post_date&#39; =&gt; isset( $raw[&#39;date&#39;] ) ? $this-&gt;format_date( $raw[&#39;date&#39;] ) : null,
			&#39;post_modified&#39; =&gt; isset( $raw[&#39;modified&#39;] ) ? $this-&gt;format_date( $raw[&#39;modified&#39;] ) : null,
			&#39;post_status&#39; =&gt; isset( $raw[&#39;status&#39;] ) ? $raw[&#39;status&#39;] : $this-&gt;get_default_post_status(),
			&#39;post_title&#39; =&gt; $raw[&#39;title&#39;],
		) );

		if ( ! $quiz-&gt;get( &#39;id&#39; ) ) {
			return $this-&gt;error-&gt;add( &#39;quiz_creation&#39;, __( &#39;Error creating quiz&#39;, &#39;lifterlms&#39; ) );
		}

		$this-&gt;increment( &#39;quizzes&#39; );

		// set all metadata
		foreach ( array_keys( $quiz-&gt;get_properties() ) as $key ) {
			if ( isset( $raw[ $key ] ) ) {
				$quiz-&gt;set( $key, $raw[ $key ] );
			}
		}

		if ( isset( $raw[&#39;questions&#39;] ) ) {
			$manager = $quiz-&gt;questions();
			foreach ( $raw[&#39;questions&#39;] as $question ) {
				$this-&gt;create_question( $question, $manager, $author_id );
			}
		}

		// add custom meta
		$this-&gt;add_custom_values( $quiz-&gt;get( &#39;id&#39; ), $raw );

		do_action( &#39;llms_generator_new_quiz&#39;, $quiz, $raw, $this );

		return $quiz-&gt;get( &#39;id&#39; );

	}

	/**
	 * Creates a new question
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Added hooks.
	 *
	 * @param    array      $raw        raw question data
	 * @param    int        $author_id  optional author ID to use as a fallback if no raw author data supplied for the lesson
	 * @return   int                    WP Post ID of the question
	 */
	private function create_question( $raw, $manager, $author_id ) {

		$raw = apply_filters( &#39;llms_generator_before_new_question&#39;, $raw, $manager, $author_id, $this );

		unset( $raw[&#39;parent_id&#39;] );

		$question_id = $manager-&gt;create_question( array_merge( array(
			&#39;post_status&#39; =&gt; &#39;publish&#39;,
			&#39;post_author&#39; =&gt; $author_id,
		), $raw ) );

		if ( ! $question_id ) {
			return $this-&gt;error-&gt;add( &#39;question_creation&#39;, __( &#39;Error creating question&#39;, &#39;lifterlms&#39; ) );
		}

		$this-&gt;increment( &#39;questions&#39; );

		$question = llms_get_post( $question_id );

		if ( isset( $raw[&#39;choices&#39;] ) ) {
			foreach ( $raw[&#39;choices&#39;] as $choice ) {
				unset( $choice[&#39;question_id&#39;] );
				$question-&gt;create_choice( $choice );
			}
		}

		// set all metadata
		foreach ( array_keys( $question-&gt;get_properties() ) as $key ) {
			if ( isset( $raw[ $key ] ) ) {
				$question-&gt;set( $key, $raw[ $key ] );
			}
		}

		do_action( &#39;llms_generator_new_question&#39;, $question, $raw, $manager, $this );

		return $question-&gt;get( &#39;id&#39; );

	}

	/**
	 * Creates a new section
	 * Creates all lessons within the section data
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Added hooks.
	 *
	 * @param    array      $raw                 raw section data
	 * @param    int        $order               order within the course (starts at 1)
	 * @param    int        $course_id           WP Post ID of the parent course
	 * @param    int        $fallback_author_id  optional author ID to use as a fallback if no raw author data supplied for the lesson
	 * @return   int                             WP Post ID of the Section
	 */
	private function create_section( $raw, $order, $course_id, $fallback_author_id = null ) {

		$raw = apply_filters( &#39;llms_generator_before_new_section&#39;, $raw, $order, $course_id, $fallback_author_id, $this );

		$author_id = $this-&gt;get_author_id_from_raw( $raw, $fallback_author_id );

		// insert the course
		$section = new LLMS_Section( &#39;new&#39;, array(
			&#39;post_author&#39; =&gt; $author_id,
			&#39;post_date&#39; =&gt; isset( $raw[&#39;date&#39;] ) ? $this-&gt;format_date( $raw[&#39;date&#39;] ) : null,
			&#39;post_modified&#39; =&gt; isset( $raw[&#39;modified&#39;] ) ? $this-&gt;format_date( $raw[&#39;modified&#39;] ) : null,
			&#39;post_status&#39; =&gt; isset( $raw[&#39;status&#39;] ) ? $raw[&#39;status&#39;] : $this-&gt;get_default_post_status(),
			&#39;post_title&#39; =&gt; $raw[&#39;title&#39;],
		) );

		if ( ! $section-&gt;get( &#39;id&#39; ) ) {
			return $this-&gt;error-&gt;add( &#39;section_creation&#39;, __( &#39;Error creating section&#39;, &#39;lifterlms&#39; ) );
		}

		$this-&gt;increment( &#39;sections&#39; );

		$section-&gt;set( &#39;parent_course&#39;, $course_id );
		$section-&gt;set( &#39;order&#39;, $order );

		if ( isset( $raw[&#39;lessons&#39;] ) ) {
			foreach ( $raw[&#39;lessons&#39;] as $lesson_order =&gt; $lesson ) {
				$this-&gt;create_lesson( $lesson, $lesson_order + 1, $section-&gt;get( &#39;id&#39; ), $course_id, $author_id );
			}
		}

		do_action( &#39;llms_generator_new_section&#39;, $section, $raw, $this );

		return $section-&gt;get( &#39;id&#39; );

	}

	/**
	 * Ensure raw dates are correctly formatted to create a post date
	 * falls back to current date if no date is supplied
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Made publicly accessible.
	 *
	 * @param string $raw_date Raw date from raw object.
	 * @return string
	 */
	public function format_date( $raw_date = null ) {

		if ( ! $raw_date ) {
			return current_time( &#39;mysql&#39; );
		} else {
			return date( &#39;Y-m-d H:i:s&#39; , strtotime( $raw_date ) );
		}

	}

	/**
	 * Accepts raw author data and locates an existing author by email or id or creates one
	 * @param    array     $raw  author data
	 *                           if id and email are provided will use id only if it matches the email for user matching that id in the database
	 *                           if no id found, attempts to locate by email
	 *                           if no author found and email provided, creates new user using email
	 *                           falls back to current user id
	 *                           first_name, last_name, and description can be optionally provided
	 *                           when provided will be used only when creating a new user
	 *
	 * @return   int|void        WP User ID or void when error encountered
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function get_author_id( $raw ) {

		$author_id = 0;

		// if raw is missing an ID and Email, use current user id
		if ( ! isset( $raw[&#39;id&#39;] ) &amp;&amp; ! isset( $raw[&#39;email&#39;] ) ) {
			$author_id = get_current_user_id();
		} else {

			// if id is set, check if the id matches a user in the DB
			if ( isset( $raw[&#39;id&#39;] ) &amp;&amp; is_numeric( $raw[&#39;id&#39;] ) ) {

				$user = get_user_by( &#39;ID&#39;, $raw[&#39;id&#39;] );

				// user exists
				if ( $user ) {

					// we have a raw email
					if ( isset( $raw[&#39;email&#39;] ) ) {

						// raw email matches found user&#39;s email
						if ( $user-&gt;user_email == $raw[&#39;email&#39;] ) {
							$author_id = $user-&gt;ID;
						}
					} // End if().
					else {
						$author_id = $user-&gt;ID;
					}
				}
			}

			if ( ! $author_id ) {

				if ( isset( $raw[&#39;email&#39;] ) ) {

					// see if we have a user that matches by email
					$user = get_user_by( &#39;email&#39;, $raw[&#39;email&#39;] );

					// user exists, use this user
					if ( $user ) {
						$author_id = $user-&gt;ID;
					}
				}
			}

			// no author id, create a new one using the email
			if ( ! $author_id &amp;&amp; isset( $raw[&#39;email&#39;] ) ) {

				$data = array(
					&#39;role&#39; =&gt; &#39;administrator&#39;,
					&#39;user_email&#39; =&gt; $raw[&#39;email&#39;],
					&#39;user_login&#39; =&gt; LLMS_Person_Handler::generate_username( $raw[&#39;email&#39;] ),
					&#39;user_pass&#39; =&gt; wp_generate_password(),
				);

				if ( isset( $raw[&#39;first_name&#39;] ) &amp;&amp; isset( $raw[&#39;last_name&#39;] ) ) {
					$data[&#39;display_name&#39;] = $raw[&#39;first_name&#39;] . &#39; &#39; . $raw[&#39;last_name&#39;];
					$data[&#39;first_name&#39;] = $raw[&#39;first_name&#39;];
					$data[&#39;last_name&#39;] = $raw[&#39;last_name&#39;];
				}

				if ( isset( $raw[&#39;description&#39;] ) ) {
					$data[&#39;description&#39;] = $raw[&#39;description&#39;];
				}

				$author_id = wp_insert_user( apply_filters( &#39;llms_generator_new_author_data&#39;, $data ), $raw );

				// increment stats
				if ( ! is_wp_error( $author_id ) ) {
					$this-&gt;increment( &#39;authors&#39; );
				}
			}
		}// End if().

		if ( is_wp_error( $author_id ) ) {
			return $this-&gt;error-&gt;add( $author_id-&gt;get_error_code(), $author_id-&gt;get_error_message() );
		}

		return apply_filters( &#39;llms_generator_get_author_id&#39;, $author_id, $raw );

	}

	/**
	 * Receives a raw array of course, plan, section, lesson, etc data and gets an author id
	 * falls back to optionally supplied fallback id
	 * falls back to current user id
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Made publicly accessible.
	 *
	 * @param array $raw raw data
	 * @param int $fallback_author_id WP User ID
	 * @return int|WP_Error
	 */
	public function get_author_id_from_raw( $raw, $fallback_author_id = null ) {

		// if author is set, get the author id
		if ( isset( $raw[&#39;author&#39;] ) ) {
			$author_id = $this-&gt;get_author_id( $raw[&#39;author&#39;] );
		}

		// fallback to current user
		if ( empty( $author_id ) ) {
			$author_id = ! empty( $fallback_author_id ) ? $fallback_author_id : get_current_user_id();
		}

		return $author_id;

	}

	/**
	 * Retrieve the default post status for the generated set of posts
	 *
	 * @since 3.7.3
	 * @since 3.30.2 Made publicly accessible.
	 *
	 * @return string
	 */
	public function get_default_post_status() {
		return apply_filters( &#39;llms_generator_default_post_status&#39;, $this-&gt;default_post_status, $this );
	}

	/**
	 * Retrieve the array of generated course ids
	 * @return   array
	 * @since    3.7.3
	 * @version  3.14.8
	 */
	public function get_generated_courses() {
		if ( isset( $this-&gt;posts[&#39;course&#39;] ) ) {
			return $this-&gt;posts[&#39;course&#39;];
		}
		return array();
	}

	/**
	 * Retrieve the array of generated post ids
	 * @return   array
	 * @since    3.14.8
	 * @version  3.14.8
	 */
	public function get_generated_posts() {
		return $this-&gt;posts;
	}

	/**
	 * Get an array of valid LifterLMS generators
	 * @return   array
	 * @since    3.3.0
	 * @version  3.14.8
	 */
	private function get_generators() {
		return apply_filters( &#39;llms_generators&#39;, array(
			&#39;LifterLMS/BulkCourseExporter&#39; =&gt; array( $this, &#39;generate_courses&#39; ),
			&#39;LifterLMS/BulkCourseGenerator&#39; =&gt; array( $this, &#39;generate_courses&#39; ),
			&#39;LifterLMS/SingleCourseCloner&#39; =&gt; array( $this, &#39;generate_course&#39; ),
			&#39;LifterLMS/SingleCourseExporter&#39; =&gt; array( $this, &#39;generate_course&#39; ),
			&#39;LifterLMS/SingleCourseGenerator&#39; =&gt; array( $this, &#39;generate_course&#39; ),
			&#39;LifterLMS/SingleLessonCloner&#39; =&gt; array( $this, &#39;clone_lesson&#39; ),
		) );
	}

	/**
	 * Get the results of the generate function
	 * @return   mixed       array of stats or WP_Error
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	public function get_results() {

		if ( $this-&gt;is_error() ) {
			return $this-&gt;error;
		} else {
			return $this-&gt;stats;
		}

	}

	/**
	 * Get a WP Term ID for a term by taxonomy and term name
	 * attempts to find a given term by name first to prevent duplicates during imports
	 * @param    string     $term_name  term name
	 * @param    string     $tax        taxonomy slug
	 * @return   int|void              term id or void when error
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function get_term_id( $term_name, $tax ) {

		$term = get_term_by( &#39;name&#39;, $term_name, $tax, ARRAY_A );

		// not found, create it
		if ( ! $term ) {

			$term = wp_insert_term( $term_name, $tax );

			if ( is_wp_error( $term ) ) {
				return $this-&gt;error-&gt;add( &#39;term-creation&#39;, sprintf( __( &#39;Error creating new term &#34;%s&#34;&#39;, &#39;lifterlms&#39; ), $term_name ) );
			} else {
				$this-&gt;increment( &#39;terms&#39; );
			}
		}

		return $term[&#39;term_id&#39;];

	}

	/**
	 * Updates course and lesson prerequisites
	 * If the prerequisite was included in the import, updates to the new imported version
	 * If the prereq is not included but the source matches, leaves the prereq intact as long as the prereq exists
	 * Otherwise removes prerequisite data from the new course / lesson
	 *
	 * Removes prereq track associations if there&#39;s no source or source doesn&#39;t match
	 * or if the track doesn&#39;t exist
	 *
	 * @return   void
	 * @since    3.3.0
	 * @version  3.24.0
	 */
	private function handle_prerequisites() {

		foreach ( array( &#39;course&#39;, &#39;lesson&#39; ) as $obj_type ) {

			$ids = $this-&gt;tempids[ $obj_type ];

			// courses have two kinds of prereqs
			$has_prereq_param = ( &#39;course&#39; === $obj_type ) ? &#39;course&#39; : null;

			// loop through all then created lessons
			foreach ( $ids as $old_id =&gt; $new_id ) {

				// instantiate the new instance of the object
				$obj = llms_get_post( $new_id );

				// if this is a course and there isn&#39;t a source or the source doesn&#39;t match the current site
				// we should remove the track prerequisites
				if ( &#39;course&#39; === $obj_type &amp;&amp; ( ! isset( $raw[&#39;_source&#39;] ) || get_site_url() !== $raw[&#39;_source&#39;] ) ) {

					// remove prereq track settings
					if ( $obj-&gt;has_prerequisite( &#39;course_track&#39; ) ) {
						$obj-&gt;set( &#39;prerequisite_track&#39;, 0 );
						if ( ! $obj-&gt;has_prerequisite( &#39;course&#39; ) ) {
							$obj-&gt;set( &#39;has_prerequisite&#39;, &#39;no&#39; );
						}
					}
				}

				// if the object has a prereq
				if ( $obj-&gt;has_prerequisite( $has_prereq_param ) ) {

					// get the old preqeq&#39;s id
					$old_prereq = $obj-&gt;get( &#39;prerequisite&#39; );

					// if the old prereq is a key in the array of created objects
					// we can replace it with the new id
					if ( in_array( $old_prereq, array_keys( $ids ) ) ) {

						$obj-&gt;set( &#39;prerequisite&#39;, $ids[ $old_prereq ] );

					} // End if().
					elseif ( ! isset( $raw[&#39;_source&#39;] ) || get_site_url() !== $raw[&#39;_source&#39;] ) {

						$obj-&gt;set( &#39;has_prerequisite&#39;, &#39;no&#39; );
						$obj-&gt;set( &#39;prerequisite&#39;, 0 );

					} // check to be sure old prereq still exists
					else {
						$post = get_post( $old_prereq );
						// post doesn&#39;t exist or the post type doesn&#39;t match, get rid of it...
						if ( ! $post || $obj_type !== $post-&gt;post_type ) {

							$obj-&gt;set( &#39;has_prerequisite&#39;, &#39;no&#39; );
							$obj-&gt;set( &#39;prerequisite&#39;, 0 );

						}
					}
				}
			}// End foreach().
		}// End foreach().

	}

	/**
	 * Increments a stat in the stats object
	 *
	 * @since 3.3.0
	 * @since 3.30.2 Made publicly accessible; change to automatically add new items to the stats if they aren&#39;t set.
	 *
	 * @param string $type key of the stat to increment.
	 * @return void
	 */
	public function increment( $type ) {
		if ( ! isset( $this-&gt;stats[ $type ] ) ) {
			$this-&gt;stats[ $type ] = 0;
		}
		$this-&gt;stats[ $type ]++;
	}

	/**
	 * Determines if there was an error during the running of the generator
	 * @return   boolean     true when there was an error, false otherwise
	 * @since    3.3.0
	 * @version  3.16.11
	 */
	public function is_error() {
		return ( 0 !== count( $this-&gt;error-&gt;get_error_messages() ) );
	}

	/**
	 * Records a generated post id
	 * @param    int      $id    WP Post ID of the generated post
	 * @param    string   $type  key of the stat to increment
	 * @return   void
	 * @since    3.14.8
	 * @version  3.14.8
	 */
	private function record_generation( $id, $type ) {

		// add the id to the type array
		if ( ! isset( $this-&gt;posts[ $type ] ) ) {
			$this-&gt;posts[ $type ] = array();
		}

		array_push( $this-&gt;posts[ $type ], $id );

	}

	/**
	 * Saves an image (from URL) to the media library and sets it as the featured image for a given post
	 * @param    string     $url_or_raw  array of raw data or URL to an image
	 * @param    int        $post_id     WP Post ID
	 * @return   void
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function set_featured_image( $url_or_raw, $post_id ) {

		$image_url = &#39;&#39;;

		if ( is_array( $url_or_raw ) &amp;&amp; isset( $url_or_raw[&#39;featured_image&#39;] ) ) {
			$image_url = $url_or_raw[&#39;featured_image&#39;];
		} elseif ( is_string( $url_or_raw ) ) {
			$image_url = $url_or_raw;
		}

		if ( ! empty( $image_url ) ) {

			global $wpdb;

			// save the image in the medialib
			$img_src = media_sideload_image( $image_url, $post_id, null, &#39;src&#39; );

			if ( ! is_wp_error( $img_src ) ) {
				$id = $wpdb-&gt;get_var( $wpdb-&gt;prepare( &#34;SELECT ID FROM {$wpdb-&gt;posts} WHERE guid = %s&#34;, array( $img_src ) ) );
				set_post_thumbnail( $post_id, $id );
			}
		}

	}

	/**
	 * Configure the default post status for generated posts at runtime
	 * @param    string     $status  any valid WP Post Status
	 * @since    3.7.3
	 * @version  3.7.3
	 */
	public function set_default_post_status( $status ) {
		$this-&gt;default_post_status = $status;
	}

	/**
	 * Sets the generator to use for the current instance
	 * @param    string     $generator  generator string, eg: &#34;LifterLMS/SingleCourseExporter&#34;
	 * @return   WP_Error|void
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	public function set_generator( $generator = null ) {

		if ( empty( $generator ) ) {

			// raw is missing a generator... oh noes...
			if ( ! isset( $this-&gt;raw[&#39;_generator&#39;] ) ) {

				return $this-&gt;error-&gt;add( &#39;missing-generator&#39;, __( &#39;The supplied file cannot be processed by the importer.&#39;, &#39;lifterlms&#39; ) );

			} else {

				return $this-&gt;set_generator( $this-&gt;raw[&#39;_generator&#39;] );

			}
		}

		$generators = $this-&gt;get_generators();

		// invalid generator
		if ( ! in_array( $generator, array_keys( $generators ) ) ) {
			return $this-&gt;error-&gt;add( &#39;invalid-generator&#39;, __( &#39;Invalid generator supplied&#39;, &#39;lifterlms&#39; ) );
		} else {
			$this-&gt;generator = $generators[ $generator ];
		}

	}

	/**
	 * Accepts a raw object, finds the raw id and stores it
	 * @param    array     $raw  array of raw data
	 * @param    obj       $obj  the LLMS Post Object generated from the raw data
	 * @return   mixed           raw id when present, false if no raw id was found
	 * @since    3.3.0
	 * @version  3.3.0
	 */
	private function store_temp_id( $raw, $obj ) {

		if ( isset( $raw[&#39;id&#39;] ) ) {

			// store the id on the meta table
			$obj-&gt;set( &#39;generated_from_id&#39;, $raw[&#39;id&#39;] );

			// store it in the object for prereq handling later
			$this-&gt;tempids[ $obj-&gt;get( &#39;type&#39; ) ][ $raw[&#39;id&#39;] ] = $obj-&gt;get( &#39;id&#39; );

			return $raw[&#39;id&#39;];

		}

		return false;

	}

}
</pre>
			</div>
			<p class="source-code-links">
				<span>
					<a href="#" class="show-complete-source">Expand full source code</a>
					<a href="#" class="less-complete-source">Collapse full source code</a>
				</span>
				<span><a href="https://github.com/gocodebox/lifterlms/blob/3.33.1/includes/class.llms.generator.php#L19">View on GitHub</a></span>
			</p>
			</section>
	<hr/>
	<section class="changelog">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 class="toc-heading" id="changelog" tabindex="-1">Changelog <a href="#changelog" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Changelog</span></a></h3>

		<table>
			<caption class="screen-reader-text">Changelog</caption>
			<thead>
				<tr>
					<th class="changelog-version">Version</th>
					<th class="changelog-desc">Description</th>
				</tr>
			</thead>

			<tbody>
									
					<tr>
						<td><a href="https://developer.lifterlms.com/reference/since/3.30.2/" alt="WordPress 3.30.2">3.30.2</a></td>
						<td><span class="since-description">Added hooks and made numerous private functions public to expand extendability.</span></td>
					</tr>
									
					<tr>
						<td><a href="https://developer.lifterlms.com/reference/since/3.3.0/" alt="WordPress 3.3.0">3.3.0</a></td>
						<td>Introduced.</td>
					</tr>
							</tbody>
		</table>
	</section>

		<hr/>
		<section class="class-methods">
			<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="methods" tabindex="-1">Methods <a href="#methods" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Methods</span></a></h2>
			<ul>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/__construct/">
							__construct</a>
						&mdash; Construct a new generator instance with data											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/add_course_terms/">
							add_course_terms</a>
						&mdash; Add taxonomy terms to a course											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/add_custom_values/">
							add_custom_values</a>
						&mdash; Add custom data to a post based on the &#39;custom&#39; array											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/clone_lesson/">
							clone_lesson</a>
						&mdash; Generator called when cloning a lesson											</li>
									<li><a href="create_access_plan/index.html">
							create_access_plan</a>
						&mdash; Create a new access plan											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/create_course/">
							create_course</a>
						&mdash; Create a new course											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/create_lesson/">
							create_lesson</a>
						&mdash; Create a new lesson											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/create_question/">
							create_question</a>
						&mdash; Creates a new question											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/create_quiz/">
							create_quiz</a>
						&mdash; Creates a new quiz Creates all questions within the quiz as well											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/create_section/">
							create_section</a>
						&mdash; Creates a new section Creates all lessons within the section data											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/format_date/">
							format_date</a>
						&mdash; Ensure raw dates are correctly formatted to create a post date falls back to current date if no date is supplied											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/generate/">
							generate</a>
						&mdash; When called, generates raw content based on the defined generator											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/generate_course/">
							generate_course</a>
						&mdash; Generator called for single course imports converts the single course into a format that can be handled by the bulk courses generator and invokes that generator											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/generate_courses/">
							generate_courses</a>
						&mdash; Generator called for bulk course imports											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/get_author_id/">
							get_author_id</a>
						&mdash; Accepts raw author data and locates an existing author by email or id or creates one											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/get_author_id_from_raw/">
							get_author_id_from_raw</a>
						&mdash; Receives a raw array of course, plan, section, lesson, etc data and gets an author id falls back to optionally supplied fallback id falls back to current user id											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/get_default_post_status/">
							get_default_post_status</a>
						&mdash; Retrieve the default post status for the generated set of posts											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/get_generated_courses/">
							get_generated_courses</a>
						&mdash; Retrieve the array of generated course ids											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/get_generated_posts/">
							get_generated_posts</a>
						&mdash; Retrieve the array of generated post ids											</li>
									<li><a href="get_generators/index.html">
							get_generators</a>
						&mdash; Get an array of valid LifterLMS generators											</li>
									<li><a href="get_results/index.html">
							get_results</a>
						&mdash; Get the results of the generate function											</li>
									<li><a href="get_term_id/index.html">
							get_term_id</a>
						&mdash; Get a WP Term ID for a term by taxonomy and term name attempts to find a given term by name first to prevent duplicates during imports											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/handle_prerequisites/">
							handle_prerequisites</a>
						&mdash; Updates course and lesson prerequisites If the prerequisite was included in the import, updates to the new imported version If the prereq is not included but the source matches, leaves the prereq intact as long as the prereq exists Otherwise removes prerequisite data from the new course / lesson											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/increment/">
							increment</a>
						&mdash; Increments a stat in the stats object											</li>
									<li><a href="is_error/index.html">
							is_error</a>
						&mdash; Determines if there was an error during the running of the generator											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/record_generation/">
							record_generation</a>
						&mdash; Records a generated post id											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/set_default_post_status/">
							set_default_post_status</a>
						&mdash; Configure the default post status for generated posts at runtime											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/set_featured_image/">
							set_featured_image</a>
						&mdash; Saves an image (from URL) to the media library and sets it as the featured image for a given post											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/set_generator/">
							set_generator</a>
						&mdash; Sets the generator to use for the current instance											</li>
									<li><a href="https://developer.lifterlms.com/reference/classes/llms_generator/store_temp_id/">
							store_temp_id</a>
						&mdash; Accepts a raw object, finds the raw id and stores it											</li>
							</ul>
		</section>
		<hr/>
	<section class="user-notes">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="user-contributed-notes" tabindex="-1">User Contributed Notes <a href="#user-contributed-notes" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">User Contributed Notes</span></a></h2>
		
<div id="comments" class="comments-area">

	
	
		
			<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small></small></h3><p>You must <a href="https://developer.lifterlms.com/wp-login.php?redirect_to=https%3A%2F%2Fdeveloper.lifterlms.com%2Freference%2Fclasses%2Fllms_generator%2F%23respond">log in</a> before being able to contribute a note or feedback.</p>	</div><!-- #respond -->
		
	
</div><!-- #comments -->
	</section>
</div>
	<br/><br/><br/><hr/>Permalink: <input style="width:60%;" type="text" value="https://developer.lifterlms.com/reference/classes/llms_generator/"/>

</article>

			
		
		</main><!-- #main -->
	</div><!-- #primary -->
	</div><!-- #content -->

</div><!-- #page -->

	<div class="main-footer" id="llms-footer">
		<div class="wrapper">
			&copy; 2014 - 2019 <a href="https://lifterlms.com">LifterLMS</a> &middot; <a href="https://lifterlms.com/privacy-policy/">Privacy Policy</a> &middot; <a href="https://lifterlms.com/terms-conditions/">Terms and Conditions</a>
		</div>
	</div>

	<link rel="stylesheet" id="buttons-css" href="https://s29765.pcdn.co/wp-includes/css/buttons.min.css?ver=5.1.1" type="text/css" media="all"/>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/navigation.js?ver=20190314"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/skip-link-focus-fix.js?ver=20190314"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/search.js?ver=20190314"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/menu.js?ver=20190314"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/awesomplete.min.js?ver=20160322"></script>
<script type="text/javascript">
/* <![CDATA[ */
var autocomplete = {"ajaxurl":"https:\/\/developer.lifterlms.com\/wp-admin\/admin-ajax.php","nonce":"5a985f74d1"};
/* ]]> */
</script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/autocomplete.js?ver=20160524"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/function-reference.js?ver=20180724"></script>
<script type="text/javascript">
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"Close all open tags","closeTags":"close tags","enterURL":"Enter the URL","enterImageURL":"Enter the URL of the image","enterImageDescription":"Enter a description of the image","textdirection":"text direction","toggleTextdirection":"Toggle Editor Text Direction","dfw":"Distraction-free writing mode","strong":"Bold","strongClose":"Close bold tag","em":"Italic","emClose":"Close italic tag","link":"Insert link","blockquote":"Blockquote","blockquoteClose":"Close blockquote tag","del":"Deleted text (strikethrough)","delClose":"Close deleted text tag","ins":"Inserted text","insClose":"Close inserted text tag","image":"Insert image","ul":"Bulleted list","ulClose":"Close bulleted list tag","ol":"Numbered list","olClose":"Close numbered list tag","li":"List item","liClose":"Close list item tag","code":"Code","codeClose":"Close code tag","more":"Insert Read More tag"};
/* ]]> */
</script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-includes/js/quicktags.min.js?ver=5.1.1"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/user-notes.js?ver=20181019"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wporg_note_feedback = {"show":"Show Feedback","hide":"Hide Feedback"};
/* ]]> */
</script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/user-notes-feedback.js?ver=20181023"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/tabs.js?ver=20160824"></script>
<script type="text/javascript">
/* <![CDATA[ */
var wporg_note_preview = {"ajaxurl":"https:\/\/developer.lifterlms.com\/wp-admin\/admin-ajax.php","nonce":"34505f0fee","preview":"preview note","preview_empty":"Nothing to preview","is_admin":""};
/* ]]> */
</script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-content/themes/wporg-developer/js/user-notes-preview.js?ver=20181019"></script>
<script type="text/javascript" src="https://s29765.pcdn.co/wp-includes/js/wp-embed.min.js?ver=5.1.1"></script>

		<script type="text/javascript">
		tinyMCEPreInit = {
			baseURL: "https://developer.lifterlms.com/wp-includes/js/tinymce",
			suffix: ".min",
						mceInit: {},
			qtInit: {'comment':{id:"comment",buttons:"strong,em,ul,ol,li"}},
			ref: {plugins:"",theme:"modern",language:""},
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		</script>
				<script type="text/javascript">
		var ajaxurl = "/wp-admin/admin-ajax.php";
		( function() {
			var init, id, $wrap;

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie && tinymce.Env.ie < 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					init = tinyMCEPreInit.mceInit[id];
					$wrap = tinymce.$( '#wp-' + id + '-wrap' );

					if ( ( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) && ! init.wp_skip_init ) {
						tinymce.init( init );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		</script>
			

</body></html>